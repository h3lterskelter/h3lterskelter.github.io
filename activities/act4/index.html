<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cat Info</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="info-column">
            <h2>Select a Cat Breed</h2>
            <select id="cat-select">
                <option value="">--Select a breed--</option>
            </select>
            <button id="search-button">Search</button>
            <div id="cat-info">
                <h3 id="breed-name"></h3>
                <p id="description"></p>
                <ul>
                    <li><strong>Average Weight:</strong> <span id="weight"></span></li>
                    <li><strong>Temperament:</strong> <span id="temperament"></span></li>
                    <li><strong>Origin:</strong> <span id="origin"></span></li>
                    <li><strong>Life Span:</strong> <span id="life-span"></span></li>
                    <li><strong>Wikipedia:</strong> <a id="wiki-link" href="#" target="_blank">View on Wikipedia</a></li>
                </ul>
            </div>
        </div>

        <div class="col-md-6 flex-column shadow-box p-4">
            <div id="cat-image" class="d-flex justify-content-center align-items-center">
                <p>Select a breed to see the image</p>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
        const breedSelect = document.getElementById('breed-select');
        const searchButton = document.getElementById('search-btn');

        fetch('https://api.thecatapi.com/v1/breeds')
            .then(response => response.json())
            .then(data => {
                data.forEach(breed => {
                    const option = document.createElement('option');
                    option.value = breed.id;
                    option.textContent = breed.name;
                    breedSelect.appendChild(option);
                });
            })
            .catch(err => console.error('Error fetching cat breeds:', err));

        // When search button is clicked, fetch breed details
        searchButton.addEventListener('click', function() {
            const breedId = breedSelect.value;
            if (!breedId) return;

            fetch(`https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`)
                .then(response => response.json())
                .then(data => {
                    const breedData = data[0];
                    const breedDetails = breedData.breeds[0];

                    // Update breed information
                    document.getElementById('weight').textContent = breedDetails.weight.metric + ' kg';
                    document.getElementById('temperament').textContent = breedDetails.temperament;
                    document.getElementById('origin').textContent = breedDetails.origin;
                    document.getElementById('lifespan').textContent = breedDetails.life_span + ' years';

                    // Display cat image
                    const catImageDiv = document.getElementById('cat-image');
                    catImageDiv.innerHTML = `<img src="${breedData.url}" alt="Image of ${breedDetails.name}" class="img-fluid rounded">`;
                })
                .catch(err => console.error('Error fetching cat breed data:', err));
        });
    });
    </script>
</body>
</html>
